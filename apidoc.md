# API Documentation

| Route | Method | Middlewares | Request | Response |
| :--- | :--- | :--- | :--- | :--- |
| `/api/auth/register` | `POST` | `upload.single("avatar")`, `requireFields(["name", "email", "password", "phone", "address"])` | `body`: `{ "name": "string", "email": "string", "password": "string", "phone": "string", "address": "string", "avatar": "file" }` | `201`: `{ "success": true, "message": "User created successfully. Please check your email to verify your account" }`<br>`409`: `{ "success": false, "message": "User already exists" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/auth/verify` | `GET` | | `query`: `{ "token": "string" }` | `200`: `{ "success": true, "message": "User verified successfully" }`<br>`400`: `{ "success": false, "message": "Missing token" }`<br>`401`: `{ "success": false, "message": "Invalid token" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/auth/login` | `POST` | `Validation.email`, `Validation.password`, `requireFields(["email", "password"])`, `checkUserStatusByEmail()` | `body`: `{ "email": "string", "password": "string" }` | `200`: `{ "success": true, "message": "Login successfully", "data": { "accessToken": "string", "refreshToken": "string" } }`<br>`401`: `{ "success": false, "message": "Invalid credentials" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/auth/refresh-token` | `GET` | `verifyRefreshToken` | | `200`: `{ "success": true, "message": "Access token refreshed successfully", "data": { "accessToken": "string" } }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/auth/logout` | `POST` | | | `200`: `{ "success": true, "message": "Log out successfully" }` |
| `/api/auth/login-google` | `POST` | `requireFields(["code"])` | `body`: `{ "code": "string" }` | `200`: `{ "success": true, "message": "Login successfully", "data": { "accessToken": "string", "refreshToken": "string" } }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/forgot-password` | `GET` | | | `200`: `{ "success": true, "message": "Email has been sent. Check your mailbox" }`<br>`429`: `{ "success": false, "message": "Error while trying to send email. Please try again later" }` |
| `/api/admin/brands` | `POST` | `credentials`, `verifyRole(["Admin"])`, `requireFields(["name"])` | `body`: `{ "name": "string" }` | `201`: `{ "success": true, "message": "Brand created successfully", "data": { "id": "number", "name": "string" } }`<br>`409`: `{ "success": false, "message": "Brand already exists" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/brands/:id` | `PUT` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam`, `requireFields(["name"])` | `params`: `{ "id": "number" }`, `body`: `{ "name": "string" }` | `200`: `{ "success": true, "message": "Brand updated successfully", "data": { "id": "number", "name": "string" } }`<br>`404`: `{ "success": false, "message": "Brand not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/brands/:id` | `DELETE` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam` | `params`: `{ "id": "number" }` | `200`: `{ "success": true, "message": "Brand deleted successfully" }`<br>`404`: `{ "success": false, "message": "Brand not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/colors` | `POST` | `credentials`, `verifyRole(["Admin"])`, `requireFields(["name", "hex"])` | `body`: `{ "name": "string", "hex": "string" }` | `201`: `{ "success": true, "message": "Color created successfully", "data": { "id": "number", "name": "string", "hex": "string" } }`<br>`409`: `{ "success": false, "message": "Color already exists" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/colors/:id` | `PUT` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam`, `requireFields(["name", "hex"])` | `params`: `{ "id": "number" }`, `body`: `{ "name": "string", "hex": "string" }` | `200`: `{ "success": true, "message": "Color updated successfully", "data": { "id": "number", "name": "string", "hex": "string" } }`<br>`404`: `{ "success": false, "message": "Color not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/colors/:id` | `DELETE` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam` | `params`: `{ "id": "number" }` | `200`: `{ "success": true, "message": "Color deleted successfully" }`<br>`404`: `{ "success": false, "message": "Color not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/sizes` | `POST` | `credentials`, `verifyRole(["Admin"])`, `requireFields(["value"])` | `body`: `{ "value": "string" }` | `201`: `{ "success": true, "message": "Size created successfully", "data": { "id": "number", "value": "string" } }`<br>`409`: `{ "success": false, "message": "Size already exists" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/sizes/:id` | `PUT` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam`, `requireFields(["value"])` | `params`: `{ "id": "number" }`, `body`: `{ "value": "string" }` | `200`: `{ "success": true, "message": "Size updated successfully", "data": { "id": "number", "value": "string" } }`<br>`404`: `{ "success": false, "message": "Size not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/sizes/:id` | `DELETE` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam` | `params`: `{ "id": "number" }` | `200`: `{ "success": true, "message": "Size deleted successfully" }`<br>`404`: `{ "success": false, "message": "Size not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/products` | `GET` | `credentials`, `verifyRole(["Admin"])` | | `200`: `{ "success": true, "message": "Products retrieved successfully", "data": "[{...}]" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/products` | `POST` | `credentials`, `verifyRole(["Admin"])`, `upload.single("thumbnail")`, `requireFields(["name", "description", "price", "active", "brandID"])` | `body`: `{ "name": "string", "description": "string", "price": "number", "active": "boolean", "brandID": "number", "thumbnail": "file" }` | `201`: `{ "success": true, "message": "Product created successfully", "data": "{...}" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/products/:id` | `PUT` | `credentials`, `verifyRole(["Admin"])`, `upload.single("thumbnail")`, `Validation.numberIDParam` | `params`: `{ "id": "number" }`, `body`: `{ "name": "string", "description": "string", "price": "number", "active": "boolean", "brandID": "number", "thumbnail": "file" }` | `200`: `{ "success": true, "message": "Product updated successfully", "data": "{...}" }`<br>`404`: `{ "success": false, "message": "Product not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/products/:id` | `DELETE` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam` | `params`: `{ "id": "number" }` | `200`: `{ "success": true, "message": "Product deleted successfully" }`<br>`404`: `{ "success": false, "message": "Product not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/variants` | `GET` | `credentials`, `verifyRole(["Admin"])` | | `200`: `{ "success": true, "message": "Variants retrieved successfully", "data": "[{...}]" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/variants` | `POST` | `credentials`, `verifyRole(["Admin"])`, `requireFields(["productID"])` | `body`: `{ "productID": "number", "variants": "[{ "sizeID": "number", "colorID": "number", "quantity": "number" }]" }` | `201`: `{ "success": true, "message": "Variants created successfully", "data": "[{...}]" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/variants/product/:productID` | `GET` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam` | `params`: `{ "productID": "number" }` | `200`: `{ "success": true, "message": "Variants retrieved successfully", "data": "[{...}]" }`<br>`404`: `{ "success": false, "message": "Product not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/variants/:id` | `GET` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam` | `params`: `{ "id": "number" }` | `200`: `{ "success": true, "message": "Variant retrieved successfully", "data": "{...}" }`<br>`404`: `{ "success": false, "message": "Variant not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/variants/:id` | `PUT` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam` | `params`: `{ "id": "number" }`, `body`: `{ "sizeID": "number", "colorID": "number", "quantity": "number" }` | `200`: `{ "success": true, "message": "Variant updated successfully", "data": "{...}" }`<br>`404`: `{ "success": false, "message": "Variant not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/variants/:id` | `DELETE` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam` | `params`: `{ "id": "number" }` | `200`: `{ "success": true, "message": "Variant deleted successfully" }`<br>`404`: `{ "success": false, "message": "Variant not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/orders` | `GET` | `credentials`, `verifyRole(["Admin"])` | | `200`: `{ "success": true, "message": "Orders retrieved successfully", "data": "[{...}]" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/orders/:id` | `GET` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam` | `params`: `{ "id": "number" }` | `200`: `{ "success": true, "message": "Order retrieved successfully", "data": "{...}" }`<br>`404`: `{ "success": false, "message": "Order not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/admin/orders/:id/status` | `PATCH` | `credentials`, `verifyRole(["Admin"])`, `Validation.numberIDParam`, `requireFields(["status"])` | `params`: `{ "id": "number" }`, `body`: `{ "status": "string" }` | `200`: `{ "success": true, "message": "Order status updated successfully", "data": "{...}" }`<br>`404`: `{ "success": false, "message": "Order not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/user/forgot-password` | `POST` | `credentials`, `requireFields(["email"])`, `checkUserStatusByEmail()` | `body`: `{ "email": "string" }` | `200`: `{ "success": true, "message": "Email has been sent. Check your mailbox" }`<br>`429`: `{ "success": false, "message": "Error while trying to send email. Please try again later" }` |
| `/api/user/reset-password` | `POST` | `credentials`, `requireFields(["email", "token", "password"])`, `Validation.email`, `Validation.password`, `checkUserStatusByEmail()`, `verifyResetPasswordToken` | `body`: `{ "email": "string", "token": "string", "password": "string" }` | `200`: `{ "success": true, "message": "Password updated successfully" }`<br>`401`: `{ "success": false, "message": "Invalid token" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/user/profile` | `GET` | `credentials` | | `200`: `{ "success": true, "message": "User profile retrieved successfully", "data": "{...}" }`<br>`404`: `{ "success": false, "message": "User not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/user/update-profile` | `PATCH` | `credentials`, `requireFields(["name", "phone"])` | `body`: `{ "name": "string", "phone": "string" }` | `200`: `{ "success": true, "message": "User profile updated successfully", "data": "{...}" }`<br>`404`: `{ "success": false, "message": "User not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/user/update-avatar` | `PATCH` | `credentials`, `requireFields(["image_id"])` | `body`: `{ "image_id": "string" }` | `200`: `{ "success": true, "message": "Avatar updated successfully", "data": "{...}" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/user/change-email` | `POST` | `credentials`, `requireFields(["email", "password"])`, `Validation.email`, `Validation.password` | `body`: `{ "email": "string", "password": "string" }` | `200`: `{ "success": true, "message": "Email has been sent. Check your mailbox" }`<br>`429`: `{ "success": false, "message": "Error while trying to send email. Please try again later" }` |
| `/api/user/reset-email` | `POST` | `credentials`, `requireFields(["email", "token"])`, `verifyResetEmailToken` | `body`: `{ "email": "string", "token": "string" }` | `200`: `{ "success": true, "message": "Email updated successfully" }`<br>`401`: `{ "success": false, "message": "Invalid token" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/colors` | `GET` | | | `200`: `{ "success": true, "message": "Colors retrieved successfully", "data": "[{...}]" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/colors/:id` | `GET` | `Validation.numberIDParam` | `params`: `{ "id": "number" }` | `200`: `{ "success": true, "message": "Color retrieved successfully", "data": "{...}" }`<br>`404`: `{ "success": false, "message": "Color not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/brands` | `GET` | | | `200`: `{ "success": true, "message": "Brands retrieved successfully", "data": "[{...}]" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/brands/:id` | `GET` | `Validation.numberIDParam` | `params`: `{ "id": "number" }` | `200`: `{ "success": true, "message": "Brand retrieved successfully", "data": "{...}" }`<br>`404`: `{ "success": false, "message": "Brand not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/sizes` | `GET` | | | `200`: `{ "success": true, "message": "Sizes retrieved successfully", "data": "[{...}]" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/sizes/:id` | `GET` | `Validation.numberIDParam` | `params`: `{ "id": "number" }` | `200`: `{ "success": true, "message": "Size retrieved successfully", "data": "{...}" }`<br>`404`: `{ "success": false, "message": "Size not found" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/upload-image` | `POST` | `upload.single("image")` | `body`: `{ "image": "file" }` | `200`: `{ "message": "UPLOAD SUCCESSFULLY" }`<br>`500`: `{ "message": "INTERNAL ERROR" }` |
| `/api/destroy-image` | `POST` | `upload.none()` | `body`: `{ "public_id": "string" }` | `200`: `{ "message": "DROP IMAGE SUCCESSFULLY" }` |
| `/api/get-image-url` | `GET` | `upload.none()` | `body`: `{ "public_id": "string" }` | `200`: `{ "message": "This is the url", "url": "string" }` |
| `/api/cart` | `GET` | `credentials`, `checkUserStatusByID()` | | `200`: `{ "success": true, "message": "Carts retrieved successfully", "data": "[{...}]" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/cart` | `POST` | `credentials`, `checkUserStatusByID()`, `verifyRole(["Admin"])` | | `201`: `{ "success": true, "message": "Cart created successfully", "data": "{...}" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/cart` | `DELETE` | `credentials`, `checkUserStatusByID()`, `verifyRole(["Admin"])` | | `200`: `{ "success": true, "message": "Cart deleted successfully" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/payment/process` | `POST` | `credentials`, `requireFields(["orderID", "paymentMethod"])` | `body`: `{ "orderID": "number", "paymentMethod": "string" }` | `201`: `{ "success": true, "message": "Payment created successfully", "data": "{...}" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
| `/api/payment/cancel` | `DELETE` | `credentials`, `requireFields(["orderID"])` | `body`: `{ "orderID": "number" }` | `200`: `{ "success": true, "message": "Payment cancelled successfully" }`<br>`500`: `{ "success": false, "message": "Internal Server Error" }` |
